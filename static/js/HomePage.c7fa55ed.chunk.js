(this.webpackJsonpWallet=this.webpackJsonpWallet||[]).push([[1],{149:function(e,t,a){"use strict";a.r(t);var n=a(160),c=a(0),r=a.n(c),o=a(21),s=a(22),i=a.n(s),u=a(26),l=a(29),m=a(7),d=a(162),p=a(163),_=a(166),h=a(165),b=a(18),f=a.n(b),v=a(250),E=a.n(v);a(248),a(249);var y=function(e){var t=Object(c.useState)(new Date),a=Object(n.a)(t,2),o=a[0],s=a[1],i=o.toISOString();Object(c.useEffect)((function(){u()}),[o]);var u=function(){e.onAddContacts(i)};return r.a.createElement(E.a,{className:"calendar",selected:o,onSelect:u,onChange:function(t){e.onAddContacts(i),s(t)}})},g=a(27),k=a(1),j=a(32),O=a(28),x=a(170),w=a(13);f.a.defaults.baseURL="https://sheltered-sea-54747.herokuapp.com";var N=function(){return function(){var e=Object(l.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:k.a.GET_TRANSACTION}),e.prev=1,e.next=4,j.a.transaction.get();case 4:a=e.sent,n=a.data,t(Object(w.g)(n)),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:k.a.GET_FAILURE}),t(Object(w.k)(e.t0)),Object(O.a)({type:"error",message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},T=function(){return function(){var e=Object(l.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:k.a.GET_TRANSACTION}),e.prev=1,e.next=4,f.a.get("https://sheltered-sea-54747.herokuapp.com/api/transaction-categories");case 4:return a=e.sent,n=a.data,t({type:k.a.GET_TRANSACTION_CATEGORIES_SUCCESS,payload:n}),e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(1),t({type:k.a.GET_FAILURE}),t(Object(w.k)(e.t0)),Object(O.a)({type:"error",message:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},S=a(314),I=a.n(S),C=a(315),A=a.n(C),P=a(47),D=function(e){Object(_.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={array:[],transactionDate:"",type:"INCOME",categoryId:"d9ee2284-4673-44f4-ab76-6258512ea409",comment:"",amount:"",id:""},e.incomeCategoryId=function(){var t;return e.state.array.find((function(e){"INCOME"===e.type&&"test income"===e.name&&(t=e.id)})),t},e.audit="",e.toggleType=function(){return"INCOME"===e.state.type?e.setState({type:"EXPENSE",categoryId:"a6385df4-6696-4e73-89ce-2c52bda02a39"}):e.setState({type:"INCOME",categoryId:"d9ee2284-4673-44f4-ab76-6258512ea409"})},e.handleChange=function(t){var a=t.target,n=a.name,c=a.value,r=Number(c);"amount"===n&&"EXPENSE"===e.state.type&&r>0?e.setState({amount:"-"+c}):e.setState(Object(m.a)({},n,c))},e.onAddContact=function(t){e.setState({transactionDate:t})},e.handleFormSubmit=function(t){t.preventDefault();var a=e.state,n=a.transactionDate,c=a.type,r=a.categoryId,o=a.comment,s=a.amount,i=a.id;"INCOME"==c?e.audit=s&&n?"true":"false":"EXPENSE"==c&&(e.audit=s&&n&&r?"true":"false"),"false"!==e.audit?("true"===e.audit&&(e.props.hiden?e.props.addTransaction({transactionDate:n,type:c,categoryId:r,comment:o,amount:s}):e.props.editTransaction({transactionDate:n,type:c,categoryId:r,comment:o,amount:s,id:i},P.a),e.props.hiden?e.props.hiden():e.props.handleCloseEditWindow()),e.setState({transactionDate:"",type:"INCOME",categoryId:"d9ee2284-4673-44f4-ab76-6258512ea409",comment:"",amount:""})):alert("\u041d\u0435 \u0431\u0443\u043b\u0438 \u0437\u0430\u043f\u043e\u0432\u043d\u0435\u043d\u0456 \u0432\u0441\u0456 \u043f\u043e\u043b\u044f, \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0437\u043d\u043e\u0432\u0443")},e.handleKeydown=function(t){"Escape"!==t.code&&t.target!==t.currentTarget||(e.props.hiden?e.props.hiden():e.props.handleCloseEditWindow())},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,a,n,c,r,o,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({array:Object(u.a)(this.props.categoris)}),t=this.state,a=t.transactionDate,n=t.type,c=t.categoryId,r=t.comment,o=t.amount,s=t.id,this.props.hiden||(a=this.props.editedTransaction.transactionDate,n=this.props.editedTransaction.type,c=this.props.editedTransaction.categoryId,r=this.props.editedTransaction.comment,o=this.props.editedTransaction.amount,s=this.props.editedTransaction.id,this.setState({transactionDate:a,type:n,categoryId:c,comment:r,amount:o,id:s})),window.addEventListener("keydown",this.handleKeydown);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeydown)}},{key:"render",value:function(){var e=this.state,t=(e.array,e.transactionDate,e.type),a=e.categoryId,n=e.comment,c=e.amount;return r.a.createElement("div",{className:I.a.overlay},r.a.createElement("div",{className:I.a.modal},r.a.createElement("button",{onClick:this.handleKeydown,type:"button",className:I.a.button_close},"\u2716"),r.a.createElement("h2",{className:I.a.title}," ",this.props.hiden?"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044e":"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044e"),r.a.createElement("div",{className:I.a.checkboxSelector},r.a.createElement("span",{className:"EXPENSE"===t?[I.a.text_checkbox_darck,I.a.text_checkbox].join(" "):[I.a.text_checkbox_light,I.a.text_checkbox].join(" ")},"\u0414\u043e\u0445\u043e\u0434"),r.a.createElement("label",{onChange:this.toggleType,className:I.a.switch},r.a.createElement("input",{type:"checkbox",checked:"EXPENSE"===this.state.type}),r.a.createElement("span",{className:I.a.slider})),r.a.createElement("span",{className:"EXPENSE"===t?[I.a.text_checkbox_red,I.a.text_checkbox].join(" "):[I.a.text_checkbox_darcks,I.a.text_checkbox].join(" ")},"\u0420\u043e\u0441\u0445\u043e\u0434")),r.a.createElement("form",{className:I.a.contactForm,onSubmit:this.handleFormSubmit},r.a.createElement("div",null,r.a.createElement("input",{className:[I.a.contactFormItem,I.a.contactFormItemPrice].join(" "),type:"number",id:"amount",autoComplete:"off",placeholder:"0.00",name:"amount",value:c,onChange:this.handleChange}),r.a.createElement(y,{onAddContacts:this.onAddContact}),r.a.createElement("span",{className:I.a.calendar_svg},r.a.createElement("img",{src:A.a}))),"EXPENSE"===t&&r.a.createElement("select",{className:I.a.contactSelect,id:"categoryId",name:"categoryId",value:a,onChange:this.handleChange},r.a.createElement("option",{value:"",disabled:!0,selected:!0,hidden:!0},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e"),this.state.array.map((function(e,t){if("EXPENSE"===e.type&&"test expense"!==e.name)return r.a.createElement("option",{className:I.a.SelectItem,name:e.name,value:e.id,key:e.name},e.name)}))),r.a.createElement("input",{className:[I.a.contactFormItem,I.a.contactFormItemComent].join(" "),type:"text",id:"comment",autoComplete:"off",placeholder:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",value:n,name:"comment",onChange:this.handleChange}),r.a.createElement("button",{type:"submit",className:[I.a.contactBtnAdd,I.a.btn].join(" ")},this.props.hiden?"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c":"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"),r.a.createElement("button",{type:"button",className:[I.a.contactBtnDel,I.a.btn].join(" "),onClick:this.handleKeydown},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"))))}}]),a}(c.Component),F={addTransaction:function(e){return function(){var t=Object(l.a)(i.a.mark((function t(a){var n,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.a.transaction.add(e);case 3:n=t.sent,c=n.data,a({type:k.a.ADD_SUCCESS,payload:Object(g.a)(Object(g.a)({},c),{},{transactionDate:Object(x.b)(c.transactionDate)})}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:k.a.ADD_FAILURE,payload:t.t0}),Object(O.a)({type:"error",message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},getTransaction:N,editTransaction:function(e,t){return function(){var a=Object(l.a)(i.a.mark((function a(n){var c,r,o;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c="/api/transactions/".concat(e.id),n(Object(w.j)()),a.prev=2,a.next=5,f()({method:"patch",url:c,data:{transactionDate:e.transactionDate,type:e.type,categoryId:e.categoryId,comment:e.comment,amount:Number(e.amount)}});case 5:r=a.sent,o=r.data,n(Object(w.c)(o)),n(N()),n(t()),Object(O.a)({type:"success",message:"Edite transaction Success!"}),a.next=17;break;case 13:a.prev=13,a.t0=a.catch(2),n(Object(w.k)(a.t0)),Object(O.a)({type:"error",message:a.t0.message});case 17:return a.prev=17,n(Object(w.i)()),a.finish(17);case 20:case"end":return a.stop()}}),a,null,[[2,13,17,20]])})));return function(e){return a.apply(this,arguments)}}()},getCurrentUser:P.a},L=Object(o.b)((function(e){return{categoris:e.transactions.categoris}}),F)(D),R=a(316),M=(a(325),a(326)),B=a.n(M),W=a(327),X=a.n(W),U=function(e){var t=e.handleDeleteLetter,a=e.handleEditLetter;return r.a.createElement("div",{id:"ModalWindowId",className:X.a.modalWindow},r.a.createElement("div",{className:X.a.editSvg,onClick:function(){a()}}),r.a.createElement("div",{className:X.a.deleteSvg,onClick:function(){t()}}))},G=a(328),z=a.n(G),J=a(177),K=[{name:"\u0412\u0421\u0415",englishName:"allTransactions"},{name:"\u0414\u041e\u0425\u041e\u0414\u042b",englishName:"Incomes"},{name:"\u0417\u0410\u0422\u0420\u0410\u0422\u042b",englishName:"Expences"}],Y=function(){var e=Object(o.d)((function(e){return e.transactions.filter})),t=(Object(o.d)(J.a),Object(o.c)());return r.a.createElement("ul",{className:z.a.filtersList},"\u0424\u0438\u043b\u044c\u0442\u0440\u044b:",K.map((function(a){return r.a.createElement("li",{key:a.name,className:e===a.englishName?z.a.hoveredLink:z.a.link},r.a.createElement("a",{onClick:function(){"\u0412\u0421\u0415"===a.name?t(function(){var e=Object(l.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Object(w.j)()),e.prev=2,e.next=5,f.a.get("/api/transactions");case 5:a=e.sent,n=a.data,t(Object(w.g)(n)),t(Object(w.d)("allTransactions")),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),t(Object(w.k)(e.t0)),Object(O.a)({type:"error",message:e.t0.message});case 15:return e.prev=15,t(Object(w.i)()),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,11,15,18]])})));return function(t){return e.apply(this,arguments)}}()):"\u0414\u041e\u0425\u041e\u0414\u042b"===a.name?t(Object(w.f)("Incomes")):t(Object(w.e)("Expences"))}},a.name))})))},H=a(37),Z=a(65),$=function(){var e=Object(o.c)(),t=Object(c.useState)(!1),a=Object(n.a)(t,2),s=(a[0],a[1],Object(o.d)(J.a)),u=Object(c.useState)(!1),m=Object(n.a)(u,2),d=m[0],p=m[1],_=Object(c.useState)(null),h=Object(n.a)(_,2),b=h[0],v=h[1],E=Object(c.useState)(!1),y=Object(n.a)(E,2),g=y[0],k=y[1],j=Object(c.useState)([]),x=Object(n.a)(j,2),S=x[0],I=x[1];Object(c.useEffect)((function(){function t(){return(t=Object(l.a)(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(T());case 2:a=t.sent,I(a);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}e(N()),function(){t.apply(this,arguments)}()}),[]);var C=function(){k(!1)},A=function(){e(function(e,t){return function(){var a=Object(l.a)(i.a.mark((function a(n){var c;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c="/api/transactions/".concat(e),n(Object(w.j)()),a.prev=2,a.next=5,f.a.delete(c);case 5:n(Object(w.b)(e)),n(N()),n(t()),Object(O.a)({type:"success",message:"Delete transaction Success!"}),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(2),n(Object(w.k)(a.t0)),Object(O.a)({type:"error",message:a.t0.message});case 15:return a.prev=15,n(Object(w.i)()),a.finish(15);case 18:case"end":return a.stop()}}),a,null,[[2,11,15,18]])})));return function(e){return a.apply(this,arguments)}}()}(b,P.a))},D=function(){var e=b;s.filter((function(t){t.id===e&&t})),k(!0)};return r.a.createElement("div",{className:B.a.wrap},r.a.createElement(Y,null),r.a.createElement(R.Table,{key:1,className:B.a.table},r.a.createElement(R.Thead,{className:B.a.thead},r.a.createElement(R.Tr,null,["\u0414\u0430\u0442\u0430","\u0422\u0438\u043f","\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f","\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439","\u0421\u0443\u043c\u043c\u0430","\u0411\u0430\u043b\u043b\u0430\u043d\u0441"].map((function(e){return r.a.createElement(R.Th,{key:e,className:B.a.thIsideThead},e)})))),r.a.createElement(H.a,{component:"Tbody"},s.map((function(e,t){return r.a.createElement(Z.a,{timeout:250,classNames:B.a,key:e.id},r.a.createElement(R.Tr,{className:"EXPENSE"===e.type?[B.a.tableRowExpense,B.a.tableRow].join(" "):[B.a.tableRowIncome,B.a.tableRow].join(" "),key:t,onMouseOver:function(){p(!0),v(e.id)},onMouseLeave:function(){d&&b===e.id&&!g&&p(!1)}},r.a.createElement(R.Td,{key:t+1},(a=e.transactionDate,"".concat(a.charAt(8)).concat(a.charAt(9),".").concat(a.charAt(5)).concat(a.charAt(6),".").concat(a.charAt(2)).concat(a.charAt(3)))),r.a.createElement(R.Td,{key:t+2},"EXPENSE"===e.type?"-":"+"),r.a.createElement(R.Td,{key:t+3},function(e){var t;return S&&S.find((function(a){e===a.id&&"test income"===(t=a.name)&&(t="\u0414\u043e\u0445\u043e\u0434")})),t}(e.categoryId)),r.a.createElement(R.Td,{key:t+4},e.comment),r.a.createElement(R.Td,{key:t+5,className:e.amount>0?B.a.positiveAmount:B.a.negativeAmount},e.amount),r.a.createElement(R.Td,{key:t+6,className:g?B.a.hoveredLetterwindow:B.a.hoveredLetter},e.balanceAfter," ",d&&b===e.id&&(g?r.a.createElement(L,{handleCloseEditWindow:C,editedTransaction:e,categories:S}):r.a.createElement(U,{handleEditLetter:D,handleDeleteLetter:A})))));var a})))))},q=a(329),Q=a.n(q);t.default=function(){Object(o.c)();var e=Object(c.useState)(!1),t=Object(n.a)(e,2),a=t[0],s=t[1];Object(o.d)((function(e){return e.auth.token}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:Q.a.mainSection},r.a.createElement("div",{className:Q.a.table},r.a.createElement($,null)),r.a.createElement("button",{onClick:function(){s(!0)},className:Q.a.stickyButton}),a&&r.a.createElement(L,{hiden:function(){s(!a)}})),r.a.createElement("section",null))}},170:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return r}));var n=function(e){return!!/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},c=function(e){var t=new Date(e),a="".concat(t.getMonth()+1),n="".concat(t.getDate()),c=t.getFullYear();return a.length<2&&(a="0".concat(a)),n.length<2&&(n="0".concat(n)),[c,a,n].join("-")};function r(e){var t=new Array;t.push("[A-Z]"),t.push("[a-z]"),t.push("[0-9]"),t.push("[$@$!%*#?&]");for(var a=0,n=0;n<t.length;n++)new RegExp(t[n]).test(e)&&a++;var c="";switch(a){case 0:case 1:case 2:c="Weak";break;case 3:c="Medium";break;case 4:c="Strong"}return c}},177:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(19),c=Object(n.a)([function(e){return e.transactions.items},function(e){return e.transactions.filter}],(function(e,t){return"Incomes"===t?e.filter((function(e){return"INCOME"===e.type})):"Expences"===t?e.filter((function(e){return"EXPENSE"===e.type})):e}))},248:function(e,t,a){},314:function(e,t,a){e.exports={title:"coverPressure_title__31JtY",overlay:"coverPressure_overlay__1xuGt",button_close:"coverPressure_button_close__2LtUR",modal:"coverPressure_modal__3UJwh",contactForm:"coverPressure_contactForm__tL7eD",contactSelect:"coverPressure_contactSelect__3E6vj",contactFormItem:"coverPressure_contactFormItem__BCCjM",calendar_svg:"coverPressure_calendar_svg__2z2f6",contactFormItemPrice:"coverPressure_contactFormItemPrice__15mrP","contactFormItem\u0421alendar":"coverPressure_contactFormItem\u0421alendar__6TbHd",contactFormItemComent:"coverPressure_contactFormItemComent__3S4uH",btn:"coverPressure_btn__24O0W",contactBtnAdd:"coverPressure_contactBtnAdd__3_NCY",contactBtnDel:"coverPressure_contactBtnDel__3Y311",checkboxSelector:"coverPressure_checkboxSelector__3t12i",switch:"coverPressure_switch__1ns37",slider:"coverPressure_slider__3Fo9E",text_checkbox:"coverPressure_text_checkbox__1pX6g",text_checkbox_light:"coverPressure_text_checkbox_light__2KeGT",text_checkbox_darck:"coverPressure_text_checkbox_darck__3YyL7",text_checkbox_red:"coverPressure_text_checkbox_red__2d8G-",text_checkbox_darcks:"coverPressure_text_checkbox_darcks__240Br"}},315:function(e,t,a){e.exports=a.p+"static/media/calendar.9d3c937c.svg"},326:function(e,t,a){e.exports={positiveAmount:"Table_positiveAmount__1pU11",negativeAmount:"Table_negativeAmount__3OquF",tableRow:"Table_tableRow__1yqAL",tableRowExpense:"Table_tableRowExpense__2kiAi",tableRowIncome:"Table_tableRowIncome__3mz0A",wrap:"Table_wrap__3kLTo",table:"Table_table__2i8Gc",hoveredLetter:"Table_hoveredLetter__2BU2C",hoveredLetterwindow:"Table_hoveredLetterwindow__2JD5R",enter:"Table_enter__3hkXi",enterActive:"Table_enterActive__3Vx0l",exit:"Table_exit__3PU1F",exitActive:"Table_exitActive__3rsBR",stickyButton:"Table_stickyButton__1Jwkg",thead:"Table_thead__20a2U",thIsideThead:"Table_thIsideThead__1NYbg"}},327:function(e,t,a){e.exports={modalWindow:"ModalWindow_modalWindow__3sAk0",editSvg:"ModalWindow_editSvg__1XjQZ",deleteSvg:"ModalWindow_deleteSvg__1OAoI"}},328:function(e,t,a){e.exports={filtersList:"Filters_filtersList__meXzB",link:"Filters_link__Arm3y",hoveredLink:"Filters_hoveredLink__3RibA"}},329:function(e,t,a){e.exports={stickyButton:"HomePage_stickyButton__3abCG",mainSection:"HomePage_mainSection__k0Ifi",table:"HomePage_table__3d-xw"}}}]);
//# sourceMappingURL=HomePage.c7fa55ed.chunk.js.map